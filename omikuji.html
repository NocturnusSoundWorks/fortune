<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>おみくじ結果</title>

<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:"Noto Sans JP", sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  flex-direction:column;
  overflow:hidden;
}

/* 結果表示 */
#result{
  font-size:60px;
  letter-spacing:8px;
  opacity:0;
  transform:translateY(20px);
}

/* 5秒かけて浮かび上がる */
.fade-in{
  animation: reveal 5s ease forwards;
}

@keyframes reveal{
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* 戻るボタン */
#back{
  margin-top:40px;
  opacity:0;
  transition: opacity 1.5s ease;
}

#back a{
  color:white;
  text-decoration:none;
  border:1px solid white;
  padding:12px 28px;
  border-radius:30px;
  font-size:14px;
  letter-spacing:2px;
  transition:.3s;
}

#back a:hover{
  background:white;
  color:black;
}
</style>
</head>

<body>

<div id="result"></div>
<div id="back">
  <a href="index.html">トップへ戻る</a>
</div>

<script>
const results = ["大吉","中吉","小吉","吉","末吉","平","凶","大凶"];

// 確率（以前と同じ）
const weights = [6, 15, 23, 23, 23, 7, 2, 1];

function weightedRandom() {
  const total = weights.reduce((a,b)=>a+b,0);
  let r = Math.random() * total;

  for (let i = 0; i < weights.length; i++) {
    if (r < weights[i]) return i;
    r -= weights[i];
  }
  return 0;
}

// ページ読み込みと同時に抽選開始
window.onload = function(){

  const index = weightedRandom();
  const resultEl = document.getElementById("result");

  resultEl.textContent = results[index];

  // フェードイン開始
  setTimeout(()=>{
    resultEl.classList.add("fade-in");
  }, 500);

  // 5秒後に戻るボタン表示
  setTimeout(()=>{
    document.getElementById("back").style.opacity = "1";
  }, 5500);

};
</script>

</body>
</html>
